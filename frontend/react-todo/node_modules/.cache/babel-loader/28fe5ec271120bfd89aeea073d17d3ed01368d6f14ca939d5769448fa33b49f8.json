{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\projet_cloud\\\\to-do\\\\frontend\\\\react-todo\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\n// Import useState and useEffect hooks from React\nimport { useState, useEffect } from 'react';\n\n// Import the CSS file\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  // State variable to store task name input\n  const [task_name, setTask_name] = useState(\"\");\n\n  // State variable to store list of tasks\n  const [tasks, setTasks] = useState([]);\n\n  // Function to handle form submission\n  const onSubmitForm = async e => {\n    // Prevent default form submission behavior\n    e.preventDefault();\n    try {\n      // Create request body with task_name\n      const body = {\n        task_name\n      };\n      await fetch(\"http://localhost:5000/task\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(body)\n      });\n      window.location = \"/\";\n    } catch (err) {\n      // Log any errors to the console\n      console.error(err.message);\n    }\n  };\n\n  // Function to delete a task by its ID\n  const deleteTask = async taskId => {\n    console.log(taskId);\n    try {\n      const response = await fetch(`http://localhost:5000/task/${taskId}`, {\n        method: \"DELETE\"\n      });\n      if (response.ok) {\n        // Remove the deleted task from the state\n        setTasks(tasks.filter(task => task.TaskID !== taskId));\n      } else {\n        console.error(\"Failed to delete task\");\n      }\n    } catch (error) {\n      console.error(error.message);\n    }\n  };\n\n  // Effect hook to fetch all tasks when the component mounts\n  useEffect(() => {\n    // Fetch all tasks when the component mounts\n    const fetchTasks = async () => {\n      try {\n        const response = await fetch(\"http://localhost:5000/allTasks\", {\n          method: \"GET\"\n        });\n        const data = await response.json();\n        setTasks(data);\n      } catch (error) {\n        console.error(error.message);\n      }\n    };\n\n    // Call fetchTasks function\n    fetchTasks();\n  }, []);\n  return (\n    /*#__PURE__*/\n    // Container for the entire application\n    _jsxDEV(\"div\", {\n      className: \"container pt-5  w-75\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \" todo-container  border border-light border-2 rounded-4 p-4  mt-5 mb-5  shadow \",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-center  text-light fw-bold mb-4 \",\n          children: \"ToDo List\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: onSubmitForm,\n          className: \"mb-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row g-0 \",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-9 col-sm-10  col-md-10 col-lg-11\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: task_name,\n                required: true,\n                className: \" task-input text-center form-control\",\n                placeholder: \"Enter Task\",\n                onChange: e => setTask_name(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-3 col-sm-2  col-md-2 col-lg-1\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"btn fw-bold  add-button w-100  border  border-secondary-subtle  \",\n                children: \"Add\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"task-list \",\n          children: tasks.map(task => /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"task-item text-light border border-1 border-secondary-subtle rounded-2  d-flex justify-content-between  mb-3\",\n            children: [` ${task.Task}`, /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fa-regular fa-trash-can trash-can me-2\",\n              onClick: () => {\n                deleteTask(task.TaskID);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 29\n            }, this)]\n          }, task.TaskID, true, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 25\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }, this)\n  );\n}\n_s(App, \"cJhoAg2/Nlq7xHpXbhRyU+8nuj0=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useState","useEffect","jsxDEV","_jsxDEV","App","_s","task_name","setTask_name","tasks","setTasks","onSubmitForm","e","preventDefault","body","fetch","method","headers","JSON","stringify","window","location","err","console","error","message","deleteTask","taskId","log","response","ok","filter","task","TaskID","fetchTasks","data","json","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","value","required","placeholder","onChange","target","map","Task","onClick","_c","$RefreshReg$"],"sources":["C:/xampp/htdocs/projet_cloud/to-do/frontend/react-todo/src/App.js"],"sourcesContent":["// Import useState and useEffect hooks from React\r\nimport { useState, useEffect } from 'react';\r\n\r\n// Import the CSS file\r\nimport './App.css';\r\n\r\nfunction App() {\r\n\r\n    // State variable to store task name input\r\n    const [task_name, setTask_name] = useState(\"\");\r\n\r\n    // State variable to store list of tasks\r\n    const [tasks, setTasks] = useState([]);\r\n\r\n    // Function to handle form submission\r\n    const onSubmitForm = async e => {\r\n        // Prevent default form submission behavior\r\n        e.preventDefault();\r\n\r\n        try {\r\n            // Create request body with task_name\r\n            const body = { task_name };\r\n            await fetch(\"http://localhost:5000/task\", {\r\n                method: \"POST\",\r\n                headers: { \"Content-Type\": \"application/json\" },\r\n                body: JSON.stringify(body)\r\n            });\r\n            window.location = \"/\";\r\n\r\n        } catch (err) {\r\n            // Log any errors to the console\r\n            console.error(err.message);\r\n        }\r\n    }\r\n\r\n    // Function to delete a task by its ID\r\n       const deleteTask = async (taskId) => {\r\n        console.log(taskId);\r\n        try {\r\n            const response = await fetch(`http://localhost:5000/task/${taskId}`, { method: \"DELETE\" });\r\n            if (response.ok) {\r\n                // Remove the deleted task from the state\r\n                setTasks(tasks.filter(task => task.TaskID !== taskId));\r\n            } else {\r\n                console.error(\"Failed to delete task\");\r\n            }\r\n        } catch (error) {\r\n            console.error(error.message);\r\n        }\r\n    };\r\n\r\n    // Effect hook to fetch all tasks when the component mounts\r\n    useEffect(() => {\r\n        // Fetch all tasks when the component mounts\r\n        const fetchTasks = async () => {\r\n            try {\r\n                const response = await fetch(\"http://localhost:5000/allTasks\", {\r\n                    method: \"GET\"\r\n                });\r\n                const data = await response.json();\r\n                setTasks(data);\r\n            } catch (error) {\r\n                console.error(error.message);\r\n            }\r\n        };\r\n\r\n        // Call fetchTasks function\r\n        fetchTasks();\r\n    }, []);\r\n\r\n    return (\r\n        // Container for the entire application\r\n        <div className=\"container pt-5  w-75\" >\r\n\r\n            {/* Container for the todo list section*/}\r\n            <div className=' todo-container  border border-light border-2 rounded-4 p-4  mt-5 mb-5  shadow '>\r\n\r\n                {/* Header */}\r\n                <h2 className='text-center  text-light fw-bold mb-4 '>ToDo List</h2>\r\n\r\n                {/* Form for adding a new task, onSubmitForm function triggered on submit */}\r\n                <form onSubmit={onSubmitForm} className='mb-4'>\r\n                    <div className=\"row g-0 \">\r\n                        <div className=\"col-9 col-sm-10  col-md-10 col-lg-11\">\r\n                            <input type=\"text\" value={task_name} required className=\" task-input text-center form-control\" placeholder=\"Enter Task\" onChange={(e) => setTask_name(e.target.value)} />\r\n                        </div>\r\n                        <div className=\"col-3 col-sm-2  col-md-2 col-lg-1\">\r\n\r\n                            {/* Button to add task */}\r\n                            <button type=\"submit\" className='btn fw-bold  add-button w-100  border  border-secondary-subtle  '>Add</button>\r\n                        </div>\r\n                    </div>\r\n\r\n                </form>\r\n\r\n                <ul className=\"task-list \">\r\n\r\n                    {/* Mapping through tasks array to display each task */}\r\n                    {tasks.map(task => (\r\n                        <li key={task.TaskID}\r\n                            className=\"task-item text-light border border-1 border-secondary-subtle rounded-2  d-flex justify-content-between  mb-3\"\r\n                        >\r\n                            {` ${task.Task}`}\r\n                            <i className=\"fa-regular fa-trash-can trash-can me-2\"\r\n                                onClick={() => { deleteTask(task.TaskID) }}></i>\r\n                        </li>\r\n                    ))}\r\n                </ul>\r\n\r\n            </div>\r\n        </div>\r\n\r\n    );\r\n\r\n}\r\nexport default App;\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}